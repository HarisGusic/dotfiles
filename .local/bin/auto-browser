#!/usr/bin/env sh

# Dependencies: 

browser='librewolf'
where='--new-window'
# If a librewolf window is currently active, open the link in the active window
if xprop -id "$(xdotool getactivewindow)" | grep -qi 'firefox'; then
    browser='/bin/firefox'
    where='--new-tab'
elif xprop -id "$(xdotool getactivewindow)" | grep -qi 'librewolf'; then 
    where='--new-tab'
fi

echo "$@" | grep -q 'google' && browser=/bin/firefox

i3-msg exec "$browser $where $@"
